---
title: "[Spring/Project] 로컬환경 설정 및 배포환경 설정"
date: 2019-04-23 02:25:28 -0400
categories: Java/Spring Notification/project
---



# 로컬환경 설정 및 배포환경 설정

로컬 환경(Mac OS) , 배포 환경(Ubuntu 16.04)

최대한 같은 환경을 조성하기 위해 도커를 사용한다.

## Docker mongo



**이미지 받기**

```
docker pull mongo
```

![image-20190423195700507](/assets/images/image-20190423195700507.png)



**컨테이너 실행** (백그라운드 실행)

```
docker run --name mongo -p 27017:27017 -d mongo
```



컨테이너 접속

```
docker exec -it mongo /bin/bash
```



로컬 테스트 소스 작성및 db연동 테스트

![image-20190423215027354](/assets/images/image-20190423215027354.png)

성공





> 19.04.23
>
> 사실 cassandra 처음에 db연동 실패하고 mongodb로 바꿔서 시도했었는데 계속 db연동이 안되서 거의 6시간째 계속 구글링과 연동만 시도했다. 문제의 원인은 내가 mongodb를 전혀 몰랐고. db에 실제 데이터가 들어갔는지 확인하기 위해 mongodb쿼리를 구글링해서 찾았다.
>
>  db.collection.find() 라는 쿼리를 찾아서 이걸 계속 db에 입력했더니 아무것도 나오지 않아서 몇시간동안 방법찾으면서 정말 많이 슬펐는데 저번에 백기선님의 강의에서 mongodb를 다뤘던것이 생각나서 다시 찾아보았다.
>
> 문제는 collection이라는 부분이 table명이였던것.
>
> mongodb도 잘모른채로 최대한 빨리 개발해서 띄워보려한 욕심이 이러한 결과를 낳았다.
>
> 지금까지는 차근차근 문서와 글들을 읽어가며 배우면서 적용을 했는데
>
> 오늘따라 마음이 조급했는지, 빨리빨리 결과를 내고자 하는 마음에 글도 훅훅 훑고, 구글링도 원인은 찾아보지도 않고 결과만 복붙해보고 하는 행동을 해버렸다.
>
> cassandra를 적용한다는 생각을 했을때부터 내가 공부할 것이 카산드라 연동법, 쿼리 사용법, docker(사실 도커 명령어도 제대로 몰라서 한참 헤멘거만 몇시간 추가) 카산드라 이미지 받고 환경변수 설정하는 것 등등. 너무나 과한 공부량이 주어졌고 그 결과로 내가 조급해 졌던 것 같다.
>
> 깊게 반성하면서 몽고db의 쿼리부터 차근차근 공부해야겠다. 더군다나 내 역량에 안맞는 과도한 개발 범위를 잡음으로써 코딩을 배우고 즐기기보다는 뚝딱 뚝딱 만드는것에 집중해버리는 오류는 범하지 말자.
>
> MongoDB쓰려면! 관련 문서 읽고! 차근차근 공부 먼저 하고 쓰고
>
> 도커를 쓰려면! 관련 문서 읽고! 명령어 공부하고! 쓰자!!
>
> 천천히. 조급해하지 말자



## Docker Nginx

