---
title: "[Spring/Project] 네이버 핵데이 준비과정 두번째"
date: 2019-05-08 05:25:28 -0400
categories: Life
---



## 5월 8일



### 먼저 해야할일을 정리하자

1. dummy api제작 및 springboot 셋업
   Create, delete구현완료
   Dummy data만든후에 cloud에서 데이터 가져오는걸로 조회 구현해보자.

2. api Document만들기

3. Cloud Storage 연동

4. Cloud Storage에 file형태의 이미지 저장 + db에 경로 저장

   성능문제 잘 고려하기

5. 이미지 태깅기능, 클러스터링 기능, 개인화기능

6. Dropbox 올려놓은 이미지 보기 
   구체적으로는 드랍박스에 올려놓은 이미지와 프론트 위치정보가 매칭되야한다.
   Naver map api중에 위치검색해서 좌표알려주는게있는데
   그 검색어로 파일 검색해서 매칭된 파일리스트를 가져오고, 프론트에 검색어에 해당하는 좌표를 리턴할때, 지도도 같이 리턴하는 방법도 있다. (안 유용해보임)
   아니면, 모든파일 이름 읽어서 그걸로 위치정보 하나씩 검색한다음에 파일- 위치 매핑해서 프론트로 보내는 방법도 있음.

7. 이미지 데이터 수집 자동화



### 이미지 데이터 저장방식

Cloud Storage를 사용하는데 Image를 db에 blob으로 저장하는것과 파일로 저장해서 관리하는 것의 장단점은 무엇일까?



1. **파일로 저장**

**단점**

- 파일의 개수가 많아질경우 느려진다. 
  여러개의 파일을 한번에 접근해야 할 경우 IO비용이 많이듬. -> 꼭 성능비교 해보자.
  db에서 폴더 + 파일명을 찾아서, 다시 파일로 접근 (2번 접근)
- 권한체크를 해줘야함



2. **Binary 파일을 Base64 인코딩하여 db에 저장**

**장점**

1. Query Selector가 가능해짐. 파일별로 특징 부여해서 나중에 쿼리로 조회할 수 있다. 하지만 파일로 구성해도 db를 filePath와 같이 이렇게 구현하면 상관없긴 함.



-> 파일로 저장하는 방식을 택한다.



### Naver Cloud의 Object Storage 사용.



#### 사용가이드

<http://docs.ncloud.com/ko/storage/storage-8-1.html>



## 5월 9일

### 팀원들과의 첫 미팅 by 행아웃

팀원들과 첫 미팅을 했다. 프로젝트에 대한 개요와 협업방법, 이슈관리 방법등을 논의하였다. 즐거운 사람들인 것 같다.



### Object Storage 연동 적용

Object Storage에 대한 연동을 완료하였다. 각 테스트를짜고, 코드를작성하는데 역시나 테스트 짜는시간이 코딩시간의 80% 정도를 차지하는것 같다. 어렵다. 테스트를 먼저짜는건 진짜 손이 많이가고 노력이 많이 드는일인것 같다.

특히 컨트롤러에 대한 단위테스트는 테스트 코드가 테스트 대상 코드의 3배정도는 된다. 어렵다



## 5월 10일

### 팀원들과 같이 모여서 공부

행아웃으로 모여서 각자 공부를 진행했다. 자극이 되어 좋은것 같다.



### Account에 대한 CRUD 구현

Account에 대해 기본 CRUD를 모두 구현하기위해 시간을 쏟았다. ATTD는 정말.. 어렵다

컨트롤러와 서비스에 메서드 하나씩을 생성하는것에

AcceptanceTest, Controller Unit Test , Service Unit Test, Request -> Service DTO생성 및 테스트, Service -> Response DTO생성 및 테스트를 작성해야하다니 으으으으.. 좀더 익숙해 져야할것 같다. 아직은 진도가 안나가는것에 대해 처지는 느낌이 많다.



### 기분

외롭다. 외롭다. 혼자 공부하는 것이 특히 외롭다. 혼자 코딩하는 것이 외롭다. 같이 코딩을 마음껏 해줄 수 있는 친구가 없는 것이 외롭다. 정말 외롭다.